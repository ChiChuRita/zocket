---
title: Rooms
description: Managing WebSocket rooms and memberships
icon: lucide:users
---

Rooms are a way to group clients so you can broadcast to a subset of connections (chat rooms, “presence” channels, per-tenant topics, etc.).

### Joining a Room
Use `ctx.rooms.join(roomId)` in a message handler.

```typescript
.incoming(({ send }) => ({
  joinRoom: zo.message
    .input(z.object({ roomId: z.string() }))
    .handle(({ ctx, input }) => {
      ctx.rooms.join(input.roomId);
    })
}))
```

### Leaving a Room
Use `ctx.rooms.leave(roomId)`.

```typescript
ctx.rooms.leave("room-123");
```

### Checking Membership
Use `ctx.rooms.has(roomId)`.

```typescript
if (ctx.rooms.has("admin-room")) {
  // ...
}
```

### Listing current rooms

```ts
for (const roomId of ctx.rooms.current) {
  console.log(roomId);
}
```

### Sending to a room

You don’t send via `ctx.rooms` — you send via the typed `send` helper:

```ts
send.chat.message({ text: "hello", from: "system" }).toRoom(["room-123"]);
```

`toRoom(...)` requires an adapter with pub/sub support (Bun supports this).
