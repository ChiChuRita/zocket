---
title: Configuration
description: Reconnection, headers, and lifecycle hooks
icon: lucide:settings
---

## Initialization Options

The `createZocketClient` function accepts a configuration object as the second argument.

```typescript
const client = createZocketClient<AppRouter>("ws://localhost:3000", {
  // 1. Headers (passed as query params)
  headers: {
    Authorization: "Bearer token123",
    "x-device-id": "device-1",
  },

  // 2. Lifecycle Hooks
  onOpen: () => {
    console.log("Connected to server");
  },
  onClose: () => {
    console.log("Disconnected from server");
  },
  
  // 3. Debug Mode (logs all events)
  debug: process.env.NODE_ENV === "development",
});
```

## Reconnection Logic

Zocket includes a `reconnect()` method to manually trigger a reconnection.

```typescript
client.onClose(() => {
  console.log("Connection lost. Reconnecting in 5s...");
  setTimeout(() => {
    client.reconnect();
  }, 5000);
});
```

*Note: Automatic reconnection with backoff strategies is planned for future versions.*

## Error Handling

You can listen for global WebSocket errors.

```typescript
client.onError((error) => {
  console.error("Global WebSocket Error:", error);
});
```
