---
title: Usage Patterns
description: RPC, Subscriptions, and type safety
icon: lucide:zap
---

## Subscriptions (Listening)

Use the `.on` property to listen for events from the server.

```typescript
const unsubscribe = client.on.system.notification((data) => {
  // 'data' is inferred from your server router
  toast(data.message);
});

// Later, to stop listening:
unsubscribe();
```

## RPC (Request / Response)

You can call server procedures and await a response.

```typescript
const user = await client.users.get({ id: "123" });
console.log("User found:", user.name);
```

### Timeouts (current behavior)

The client uses a fixed 10-second RPC timeout. If the server never responds (e.g. handler throws, middleware throws, or payload validation fails), the promise rejects with a timeout error.

```typescript
try {
  await client.users.get({ id: "123" });
} catch (err) {
  console.error(err); // e.g. Error: RPC timeout for route: users.get
}
```

## Fire-and-forget / “ack”

If your handler returns `void`, the generated client method is typed as `void`. In that case, call it without `await`:

```ts
client.analytics.track({ event: "click" });
```

If you want an “ack” you can await (and integrate with a caching layer like `@tanstack/react-query`), return a value from the handler, like `{ ok: true }`.
