---
title: Hooks
description: useEvent, useConnectionState, and more
icon: lucide:anchor
---

When you initialize Zocket with `createZocketReact<AppRouter>()`, it returns a set of hooks that are fully typed for your specific router.

## useClient

Returns the typed `ZocketClient` instance from context.

```tsx
const client = zocket.useClient();
```

## useConnectionState

Tracks the current connection status of the WebSocket.

```tsx
const { status, lastError } = zocket.useConnectionState();
// status: "connecting" | "open" | "closed"
```

## useEvent

A specialized hook for subscribing to real-time events. It handles the subscription lifecycle (subscribe on mount, unsubscribe on unmount).

```tsx
function Chat() {
  const client = zocket.useClient();
  const [messages, setMessages] = useState([]);

  zocket.useEvent(client.on.chat.message, (msg) => {
    setMessages(prev => [...prev, msg]);
  });

  return <ul>{messages.map(m => <li key={m.id}>{m.text}</li>)}</ul>;
}
```

`@zocket/client` caches `client.on.*` proxy chains, so `client.on.chat.message` is stable across renders (safe to use in hooks).

## Data Fetching (TanStack Query)

Zocketâ€™s React hooks focus on real-time subscriptions. For request/response data fetching, caching, retries, and invalidation, use `@tanstack/react-query` with the typed Zocket client:

```tsx
import { useQuery } from "@tanstack/react-query";

function Profile({ userId }: { userId: string }) {
  const client = zocket.useClient();

  const profile = useQuery({
    queryKey: ["users.getProfile", userId],
    queryFn: () => client.users.getProfile({ id: userId }),
    enabled: !!userId,
  });

  return <pre>{JSON.stringify(profile.data, null, 2)}</pre>;
}
```

## Standalone Hooks

If you prefer not to use the factory pattern, you can import standalone versions of these hooks from `@zocket/react`. However, you will need to pass the `client` manually and provide generics for full type safety.

```tsx
import { useEvent, useConnectionState } from "@zocket/react";

// Standalone usage (less common)
useEvent(client.on.chat.message, (data) => { ... });
const { status } = useConnectionState(client);
```
