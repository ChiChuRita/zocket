---
title: ZocketProvider
description: Learn how to set up the ZocketProvider component.
---

# ZocketProvider

The `ZocketProvider` component creates and manages the WebSocket connection for your React application.

## Basic Usage

```tsx
import { ZocketProvider } from "@zocket/react";
import type { AppRouter } from "./server";

function App() {
  return (
    <ZocketProvider<AppRouter> url="ws://localhost:3000">
      <YourApp />
    </ZocketProvider>
  );
}
```

## Props

### url (required)

The WebSocket URL to connect to:

```tsx
<ZocketProvider<AppRouter> url="ws://localhost:3000">
```

### headers

Custom headers for authentication:

```tsx
<ZocketProvider<AppRouter>
  url="ws://localhost:3000"
  headers={{
    authorization: `Bearer ${token}`,
    'client-version': '1.0.0',
  }}
>
```

### Reconnection Options

Configure automatic reconnection:

```tsx
<ZocketProvider<AppRouter>
  url="ws://localhost:3000"
  maxReconnectionDelay={10000}
  minReconnectionDelay={1000}
  reconnectionDelayGrowFactor={1.3}
  maxRetries={Infinity}
>
```

### debug

Enable debug logging:

```tsx
<ZocketProvider<AppRouter>
  url="ws://localhost:3000"
  debug={process.env.NODE_ENV === 'development'}
>
```

### Lifecycle Callbacks

```tsx
<ZocketProvider<AppRouter>
  url="ws://localhost:3000"
  onOpen={() => console.log('Connected!')}
  onClose={() => console.log('Disconnected')}
>
```

## Complete Example

```tsx
import { ZocketProvider } from "@zocket/react";
import type { AppRouter } from "./server";

function App() {
  const [connectionStatus, setConnectionStatus] = useState("connecting");

  return (
    <div>
      <ConnectionStatus status={connectionStatus} />

      <ZocketProvider<AppRouter>
        url={import.meta.env.VITE_WS_URL}
        headers={{
          authorization: `Bearer ${getToken()}`,
          "client-id": getClientId(),
        }}
        maxReconnectionDelay={10000}
        minReconnectionDelay={1000}
        maxRetries={10}
        debug={import.meta.env.DEV}
        onOpen={() => {
          console.log("✅ Connected");
          setConnectionStatus("connected");
        }}
        onClose={() => {
          console.log("❌ Disconnected");
          setConnectionStatus("disconnected");
        }}
      >
        <Router />
      </ZocketProvider>
    </div>
  );
}
```

## With React Router

```tsx
import { BrowserRouter, Routes, Route } from "react-router-dom";
import { ZocketProvider } from "@zocket/react";

function App() {
  return (
    <BrowserRouter>
      <ZocketProvider<AppRouter> url="ws://localhost:3000">
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/chat" element={<Chat />} />
        </Routes>
      </ZocketProvider>
    </BrowserRouter>
  );
}
```

## With Authentication

```tsx
function App() {
  const { user, token } = useAuth();

  if (!user) {
    return <LoginPage />;
  }

  return (
    <ZocketProvider<AppRouter>
      url="ws://localhost:3000"
      headers={{
        authorization: `Bearer ${token}`,
      }}
    >
      <AuthenticatedApp />
    </ZocketProvider>
  );
}
```

## Environment Configuration

```tsx
const WS_URL = import.meta.env.DEV
  ? "ws://localhost:3000"
  : "wss://api.prod.com";

function App() {
  return (
    <ZocketProvider<AppRouter> url={WS_URL}>
      <YourApp />
    </ZocketProvider>
  );
}
```

## Next Steps

- [Use the useZocket hook](/react/use-zocket)
- [Handle events with useEvent](/react/use-event)
