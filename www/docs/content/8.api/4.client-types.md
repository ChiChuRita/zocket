---
title: Client Types
description: TypeScript types for the Zocket client.
---

# Client Types

Type definitions for the Zocket client.

## ZocketClient

Main client type:

```typescript
type ZocketClient<TRouter extends AnyRouter> = {
  send: ClientSend<TRouter>;
  on: ClientOn<TRouter>;
  onOpen: (callback: () => void) => () => void;
  onClose: (callback: () => void) => () => void;
  close: () => void;
  reconnect: () => void;
  readonly readyState: number;
};
```

## ClientSend

Type for sending messages:

```typescript
type ClientSend<TRouter extends AnyRouter> = {
  [K in keyof TRouter]: TRouter[K] extends IncomingMessage<infer TDef>
    ? (payload: StandardSchemaV1.InferOutput<TDef["payload"]>) => void
    : TRouter[K] extends AnyRouter
    ? ClientSend<TRouter[K]>
    : never;
};
```

## ClientOn

Type for receiving messages:

```typescript
type ClientOn<TRouter extends AnyRouter> = {
  [K in keyof TRouter]: TRouter[K] extends OutgoingMessage<infer TDef>
    ? (
        callback: (
          payload: StandardSchemaV1.InferOutput<TDef["payload"]>
        ) => void
      ) => UnsubscribeFn
    : TRouter[K] extends AnyRouter
    ? ClientOn<TRouter[K]>
    : never;
};
```

## Client Options

Options for creating a client:

```typescript
type ClientOptions = {
  headers?: Record<string, string>;
  maxReconnectionDelay?: number;
  minReconnectionDelay?: number;
  reconnectionDelayGrowFactor?: number;
  maxRetries?: number;
  debug?: boolean;
  onOpen?: () => void;
  onClose?: () => void;
};
```

## createZocketClient

Function signature:

```typescript
function createZocketClient<TRouter extends AnyRouter>(
  url: string,
  options?: ClientOptions
): ZocketClient<TRouter>;
```

## Usage Example

```typescript
import type { ZocketClient } from "@zocket/core";
import type { AppRouter } from "./server";

let client: ZocketClient<AppRouter>;

function setupClient(url: string) {
  client = createZocketClient<AppRouter>(url, {
    headers: { authorization: "Bearer token" },
    debug: true,
  });
}
```

## ReadyState Values

WebSocket ready state constants:

```typescript
const CONNECTING = 0;
const OPEN = 1;
const CLOSING = 2;
const CLOSED = 3;
```

Check state:

```typescript
if (client.readyState === 1) {
  // Connection is open
}
```
