---
title: React Types
description: TypeScript types for Zocket React hooks.
---

# React Types

Type definitions for @zocket/react.

## ZocketProviderProps

Props for the ZocketProvider component:

```typescript
interface ZocketProviderProps<TRouter extends AnyRouter> {
  url: string;
  children: ReactNode;
  maxReconnectionDelay?: number;
  minReconnectionDelay?: number;
  reconnectionDelayGrowFactor?: number;
  maxRetries?: number;
  debug?: boolean;
  headers?: Record<string, string>;
  onOpen?: () => void;
  onClose?: () => void;
}
```

## ZocketProvider

Component type:

```typescript
function ZocketProvider<TRouter extends AnyRouter>(
  props: ZocketProviderProps<TRouter>
): JSX.Element;
```

## useZocket

Hook type:

```typescript
function useZocket<TRouter extends AnyRouter>(): {
  client: ZocketClient<TRouter>;
  useEvent: <TPayload>(
    subscribeFn: (callback: (payload: TPayload) => void) => () => void,
    handler: (payload: TPayload) => void
  ) => void;
};
```

## useEvent

The useEvent function returned from useZocket:

```typescript
type UseEvent = <TPayload>(
  subscribeFn: (callback: (payload: TPayload) => void) => () => void,
  handler: (payload: TPayload) => void
) => void;
```

## Usage Example

```typescript
import type { ZocketProviderProps } from "@zocket/react";
import type { AppRouter } from "./server";

const providerProps: ZocketProviderProps<AppRouter> = {
  url: "ws://localhost:3000",
  headers: { authorization: "Bearer token" },
  debug: true,
  onOpen: () => console.log("Connected"),
  onClose: () => console.log("Disconnected"),
  children: <App />,
};
```

## Component Example

```tsx
import { ZocketProvider, useZocket } from "@zocket/react";
import type { AppRouter } from "./server";

function App() {
  return (
    <ZocketProvider<AppRouter>
      url="ws://localhost:3000"
      headers={{ token: "abc123" }}
    >
      <Chat />
    </ZocketProvider>
  );
}

function Chat() {
  const { client, useEvent } = useZocket<AppRouter>();
  const [messages, setMessages] = useState<Message[]>([]);

  useEvent(client.on.chat.onMessage, (data) => {
    setMessages((prev) => [...prev, data]);
  });

  return <div>{/* UI */}</div>;
}
```

## Error Handling

The useZocket hook throws if used outside a provider:

```typescript
try {
  const { client } = useZocket<AppRouter>();
} catch (error) {
  // Error: useZocket must be used within a ZocketProvider
}
```

Always wrap with ZocketProvider at a higher level.
